<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{/admin-page/layout/index :: dynamic(~{::main})}">

<body>
	<main>
		<!-- Content -->
		<div class="container-xxl flex-grow-1 container-p-y">
			<ol class="breadcrumb">
				<li class="breadcrumb-item"><a href="javascript:void(0);">Hóa
						Đơn</a></li>
				<li class="breadcrumb-item active">Danh Sách Hóa Đơn</li>
			</ol>
			<div class="mb-3 col-3">
				<label for="defaultSelect" class="form-label">Trạng Thái Đơn</label>
				<select id="defaultSelect" class="form-select" style="font-weight: bold;">
					<option value="1" style="font-weight: bold;">Đơn mới</option>
					<option value="2" style="font-weight: bold">Đang giao</option>
					<option value="3" style="font-weight: bold">Đã giao</option>
				</select>
			</div>

			<!-- Basic Layout -->
			<div class="card" style="height: 700px">
				<div class="table-responsive text-nowrap">
					<table class="table">
						<thead>
							<tr>
								<th>STT</th>
								<th>Mã Đơn hàng</th>
								<th>Khách Hàng</th>
								<th>Ngày Đặt</th>
								<th>Tổng giá</th>
								<th>Trạng thái</th>
								<th>Hành Động</th>
							</tr>
						</thead>
						<tbody class="table-border-bottom-0">
							<!-- Sử dụng thymeleaf để lặp qua danh sách đơn hàng và hiển thị thông tin -->
							<tr th:each="order, iterStat : ${orders}">
								<td th:text="${iterStat.count}"></td>
								<td th:text="${order.orderId}"></td>
								<td th:text="${order.account.username}"></td>
								<td th:text="${order.createDate}"></td>
								<td th:text="${total[iterStat.count-1]}"></td>
								<td>
									<div>
										<select id="smallSelect" class="form-select form-select-sm">
											<option value="1" th:selected="${order.orderStatus == 'Đơn mới'}">Đơn mới
											</option>
											<option value="2" th:selected="${order.orderStatus == 'Đang giao'}">Đang giao
											</option>
											<option value="3" th:selected="${order.orderStatus == 'Đã giao'}">Đã giao</option>
										</select>
									</div>
								</td>
								<td>
									<a class="pe-2" href="javascript:void(0);" data-bs-toggle="modal"
										 th:data-bs-target="'#modal' + ${iterStat.count}"><i class="bx bx-info-square"></i></a>
										<!-- Modal Info-->
									<div class="modal fade" th:id="'modal' + ${iterStat.count}"
										data-bs-backdrop="static" data-bs-keyboard="false"
										tabindex="-1" aria-labelledby="staticBackdropLabel"
										aria-hidden="true">
										<div class="modal-dialog modal-lg">
											<!-- Nội dung cửa sổ Modal -->
											<div class="modal-content">
												<div class="modal-header">
													<h1 class="modal-title fs-5" id="staticBackdropLabel">Danh
														sách Sản phẩm</h1>
													<button type="button" class="btn-close"
														data-bs-dismiss="modal" aria-label="Close"></button>
												</div>
												<div class="modal-body">
													<div class="table-responsive text-nowrap">
														<table class="table">
															<thead>
																<tr>
																	<th>STT</th>
																	<th>Tên sản phẩm</th>
																	<th>Số lượng</th>
																	<th>Giá </th>
																</tr>
															</thead>
															<tbody class="table-border-bottom-0">
																<tr th:each="orderDT , iterStat :${order.orderDetails}">
																	<td th:text="${iterStat.count}"></td>
																	<td th:text="${orderDT.product.productName}"></td>
																	<td th:text="${orderDT.productQuantity}">2</td>
																	<td th:text="${orderDT.productPrice}">200.000 <strong>vnđ</strong></td>
																</tr>
																
															</tbody>
														</table>
													</div>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary"
														data-bs-dismiss="modal">Đóng</button>
												</div>
											</div>
										</div>
									</div> <a class="ps-2" href="javascript:void(0);"
									data-bs-toggle="modal" data-bs-target="#modalToggle"><i
										class="bx bx-trash"></i></a>
									<div class="modal fade" id="modalToggle"
										aria-labelledby="modalToggleLabel" tabindex="-1"
										style="display: none;" aria-hidden="true">
										<div class="modal-dialog modal-dialog-centered">
											<div class="modal-content">
												<div class="modal-header">
													<h5 class="modal-title" id="modalToggleLabel">Thông
														báo xác nhận</h5>
													<button type="button" class="btn-close"
														data-bs-dismiss="modal" aria-label="Close"></button>
												</div>
												<div class="modal-body">
													Bạn thật sự muốn xóa hóa đơn <strong>OD0001</strong>
												</div>
												<div class="modal-footer">
													<button class="btn btn-danger"
														data-bs-target="#modalToggle2" data-bs-toggle="modal"
														data-bs-dismiss="modal">Xóa</button>
												</div>
											</div>
										</div>
									</div>
									
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<!-- Basic Layout -->

			<div class="demo-inline-spacing">
				<!-- Basic Pagination -->
				<nav aria-label="Page navigation">
					<ul class="pagination">
						<li class="page-item first"><a class="page-link" href="javascript:void(0);"><i
									class="tf-icon bx bx-chevrons-left"></i></a></li>
						<li class="page-item prev"><a class="page-link" href="javascript:void(0);"><i
									class="tf-icon bx bx-chevron-left"></i></a></li>
						<li class="page-item active"><a class="page-link" href="javascript:void(0);">1</a></li>
						<li class="page-item"><a class="page-link" href="javascript:void(0);">2</a></li>
						<li class="page-item"><a class="page-link" href="javascript:void(0);">3</a></li>
						<li class="page-item"><a class="page-link" href="javascript:void(0);">4</a></li>
						<li class="page-item"><a class="page-link" href="javascript:void(0);">5</a></li>
						<li class="page-item next"><a class="page-link" href="javascript:void(0);"><i
									class="tf-icon bx bx-chevron-right"></i></a></li>
						<li class="page-item last"><a class="page-link" href="javascript:void(0);"><i
									class="tf-icon bx bx-chevrons-right"></i></a></li>
					</ul>
				</nav>
				<!--/ Basic Pagination -->
			</div>
		</div>
		<!-- / Content -->
	</main>
</body>

</html>